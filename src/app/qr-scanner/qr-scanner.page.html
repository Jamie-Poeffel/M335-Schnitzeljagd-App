<ion-content [fullscreen]="true" scroll-y="false" class="no-scroll">
  <div class="screen">
    <div class="main">
      <section class="card">
        <!-- progress dots -->
        <div class="dots" aria-label="Progress">
          <span class="dot active"></span>
          <span class="dot active"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>

        <!-- header -->
        <h1 class="title">Jagt das Schwein</h1>

        <div class="stats">
          <div>Zeit Verbleibend: <b>{{ timeLeft }}</b></div>
          <div>Schnitzel : <b>{{ reward }}x</b></div>
        </div>

        <!-- scanner frame -->
        <div class="scan-frame">
          <div class="scan-placeholder">
            <div class="scan-text">Hold QR inside the box</div>

            <button class="scan-btn" type="button" (click)="scanQR()">
              Scan
            </button>
          </div>
        </div>

        <!-- mission -->
        <div class="mission">
          <h2>Scan the QR Code</h2>
          <p class="hint">
            Find the QR code at the location and scan it to continue.
          </p>

          <div class="redline">Status: {{ status }}</div>
          <div class="redline">Last Result: {{ lastResult || '—' }}</div>

          @if (status !== "Success") {
          <app-button variant="text" (clicked)="onSkip()">
            Überspringen
          </app-button>
          }

          @if (status === "Success") {
          <app-button variant="filled" (clicked)="onMoveOn()">
            <p>Weiter</p>
          </app-button>
          }
        </div>
      </section>
    </div>

    <!-- bottom button always visible -->
    <app-button class="bottom" variant="outline-icon" routerLink="/leaderboard">
      <p>Abbrechen</p>
    </app-button>
  </div>
</ion-content>